<ion-modal-view title="The PTA App">
  <ion-header-bar align-title="left" class="white-font bar bar-header bar-positive">
    <h3 class="title title-left">The PTA App</h3>
    <p class="tag_line">Connected parents. Better schools.</p>
  </ion-header-bar>
  <ion-content class="padding signup">
    <form name="signupForm" ng-submit="signupSubmit()">
      <label for="school-name">School name
        <input type="text" name="school-name" ng-model="user.school" placeholder="Child's school name" required="true">
      </label>
      <label for="child-count" ng-if="user.school">Children attending {{ user.school}}
        <input type="number" ng-keyup="childInfoInputs(child_count)" name="child-count" ng-model="child_count" ng-change="childInputs()" placeholder="How many?" class="number_input" required>
      </label>
      <div class="children" ng-if="childCntRcvd" ng-repeat="childcount in childArr track by $index">
        <label for="child-name">Child's name:
          <input type="text" name="child-name" ng-model="user.children[$index].name" placeholder="Child's full name" required>
        </label>
        <select type="number" name="grade-level" ng-model="user.children[$index].grade" ng-options="key for (key,value) in grades"required>
          <option value="" disabled selected>Current grade level</option>
        </select>
      </div>
      <label for="email">Email
        <input type="email" name="email" ng-model="user.email" placeholder="Email" required>
      </label>
      <label for="password">Password
        <input type="password" name="password" ng-model="user.password" placeholder="Password" required>
      </label>
      <label for="confirm">Confirm password
        <input type="password" name="confirm" ng-model="confirm_password" placeholder="Confirm password" name"confirmField" match="user.password" match-ignore-empty="true" required>
      </label>  
      <div ng-show="signupForm.confirmField.$error.match">Passwords do not match</div>
      <button type="submit" class="button button-block button-balanced">Create Account</button>
    </form>
    <!-- This displays user error messages (automatically generated from firebase) for login (like "The specified password is incorrect") -->
    <p ng-if="errorMessage">{{ errorMessage }}</p>
  </ion-content>
</ion-modal-view>
