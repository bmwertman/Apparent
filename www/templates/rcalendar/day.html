<div>
    <table class="table table-bordered table-fixed">
        <tbody>
            <tr ng-repeat="tm in rows track by $index">
                <td class="calendar-hour-column-view text-center">
                    {{$index<12?($index === 0?12:$index)+'am':($index === 12?$index:$index-12)+'pm'}}
                </td>
                <td class="calendar-cell">
                    <div class="add_event_shade" 
                         style="height:100%;"
                         ng-if="isCalView"
                         on-touch="hourTouch($event)">
                        <p>+ New event</p>
                        <p>{{$index<12?($index === 0?12:$index)+':00 am':($index === 12?$index:$index-12)+':00 pm'}}</p>
                    </div>
                    <div class="drop-container" ng-if="!isCalView" dragula='"bag"'>
                        <div class="drag-element" offset-top="top">
                            <div class="arrow-head"></div>
                            <div class='finish-time half-circle' ng-bind="displayEnd"></div>
                            <div class="node-handle half-circle">
                                Finish
                                <i class="ion-ios-drag" style="display:block;margin-top:-15px;font-size:47px;"></i>
                            </div> 
                        </div>
                    </div>
                    <div ng-class="{'calendar-event-wrap': tm.events}" ng-show="tm.events">
                        <!-- ng-style removed: left: 100/displayEvent.overlapNumber*displayEvent.position+'%', top: displayEvent.event.startTimeOffset+'%', -->
                        <div ng-repeat="displayEvent in tm.events" 
                             class="calendar-event"
                             ng-click="eventSelected({event:displayEvent.event})"
                             ng-style="{width: 100/displayEvent.overlapNumber+'%',
                                        height: (40 * displayEvent.event.totalApptTime) +'px'}"
                            insert-signup>
                            <div class="calendar-event-inner"
                                 ng-style="setBorderStyle(displayEvent.event.color)"
                                 ng-if="isCalView || displayEvent.event.volunteersNeeded"
                                 ng-class="{'primaryGreen':'primary-green-border', 'primaryBlue':'primary-blue-border', 'primaryRed':'primary-red-border'}[displayEvent.event.color]">
                                    <div class="event-title">{{displayEvent.event.title}}</div>
                                <table class="volunteers-wrapper">
                                    <tbody>
                                        <tr class="eventrow-wrapper" ng-repeat="row in displayEvent.event.grid.rows track by $index">
                                           <td class="volunteer-slot"
                                                ng-repeat="slot in row track by $index"
                                                ng-style="{width: (100/displayEvent.overlapNumber) * (1/displayEvent.event.volunteersNeeded)+'%'}">
                                                <div class="filled-slot"></div>
                                           </td>
                                        </tr>
                                    </tbody>
                                   <!--  <div class="event-volunteer" ng-repeat="volunteer in displayEvent.event.volunteers" 
                                         ng-style="{width: (100/displayEvent.overlapNumber) * (displayEvent.event.volunteersCount/displayEvent.event.volunteersNeeded)+'%'}">
                                        <div class="volunteer-hour"
                                             ng-repeat="hour in volunteer.hours"
                                             ng-class="{'primaryGreen':'primary-green', 'primaryBlue':'primary-blue', 'primaryRed':'primary-red'}[displayEvent.event.color]">
                                             <span ng-if="middleIndex($index, volunteer.hours)">{{displayEvent.event.volunteerTitle}}</span>
                                        </div>
                                    </div> -->
                                </table>
                            </div>
                        </div>
                    </div>
                    <p style="display:none;">{{$index<12?($index === 0?12:$index)+':00 am':($index === 12?$index:$index-12)+':00 pm'}}</p>
                </td>
            </tr>
        </tbody>
    </table>
</div>